{"mappings":"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","sources":["node_modules/contentful-ui-extensions-sdk/dist/cf-extension-api.js","source/log.js","source/deep-copy2.js","source/app.js"],"sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],t):t((e=\"undefined\"!=typeof globalThis?globalThis:e||self).contentfulExtension={})}(this,(function(e){\"use strict\";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,n)};var n,r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var o=function(){function e(){this._id=0,this._listeners={}}return e.prototype.dispatch=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r in this._listeners)(e=this._listeners)[r].apply(e,t)},e.prototype.attach=function(e){var t=this;if(\"function\"!=typeof e)throw new Error(\"listener function expected\");var n=this._id++;return this._listeners[n]=e,function(){return delete t._listeners[n]}},e}(),i=\"__private__memoized__arguments__\",a=function(e){function r(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=e.call(this)||this;if(o[n]=[],!t.length)throw new Error(\"Initial value to be memoized expected\");return o[i]=t,o}return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(r,e),r.prototype.dispatch=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this[i]=t,e.prototype.dispatch.apply(this,t)},r.prototype.attach=function(t){var n=e.prototype.attach.call(this,t);return t.apply(void 0,this[i]),n},r}(o);n=i;var s=function(){function e(e,t){var n=this;this._messageHandlers={},this._responseHandlers={},this._send=function(e,t){var n=0;return function(r,o){var i=n++;try{t.postMessage({source:e,id:i,method:r,params:o},\"*\")}catch(e){throw e instanceof DOMException&&\"DataCloneError\"===e.name&&\"openDialog\"===r&&console.error(\"Error: openCurrent[App] parameters could not be parsed. You likely tried to pass functions or DOM elements as a parameter. Tip: Use the App SDK directly within the dialog location.\\n\\nLearn more about the dialog location: https://ctfl.io/app-sdk-dialog\"),e}return i}}(e,t.parent),t.addEventListener(\"message\",(function(e){n._handleMessage(e.data)}))}return e.prototype.call=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._send(e,n);return new Promise((function(e,n){t._responseHandlers[o]={resolve:e,reject:n}}))},e.prototype.send=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._send(e,t)},e.prototype.addHandler=function(e,t){return e in this._messageHandlers||(this._messageHandlers[e]=new o),this._messageHandlers[e].attach(t)},e.prototype._handleMessage=function(e){if(e.method){var t=e.method,n=e.params,r=this._messageHandlers[t];r&&r.dispatch.apply(r,n)}else{var o=e.id,i=this._responseHandlers[o];if(!i)return;\"result\"in e?i.resolve(e.result):\"error\"in e&&i.reject(e.error),delete this._responseHandlers[o]}},e}();var l=function(){function e(e,t){var n=this;this.id=t.id,this.locale=t.locale,this.type=t.type,this.required=t.required,this.validations=t.validations,this.items=t.items,this._value=t.value,this._valueSignal=new a(this._value),this._isDisabledSignal=new a(void 0),this._schemaErrorsChangedSignal=new a(void 0),this._channel=e,e.addHandler(\"valueChanged\",(function(e,t,r){e!==n.id||t&&t!==n.locale||(n._value=r,n._valueSignal.dispatch(r))})),e.addHandler(\"isDisabledChangedForFieldLocale\",(function(e,t,r){e===n.id&&t===n.locale&&n._isDisabledSignal.dispatch(r)})),e.addHandler(\"schemaErrorsChangedForFieldLocale\",(function(e,t,r){e===n.id&&t===n.locale&&n._schemaErrorsChangedSignal.dispatch(r)}))}return e.prototype.getValue=function(){return this._value},e.prototype.setValue=function(e){return this._value=e,this._valueSignal.dispatch(e),this._channel.call(\"setValue\",this.id,this.locale,e)},e.prototype.removeValue=function(){return this._value=void 0,this._channel.call(\"removeValue\",this.id,this.locale)},e.prototype.setInvalid=function(e){return this._channel.call(\"setInvalid\",e,this.locale)},e.prototype.onValueChanged=function(e){return this._valueSignal.attach(e)},e.prototype.onIsDisabledChanged=function(e){return this._isDisabledSignal.attach(e)},e.prototype.onSchemaErrorsChanged=function(e){return this._schemaErrorsChangedSignal.attach(e)},e}(),u=function(){function e(e,t,n){this.id=t.id,this.locales=t.locales,this.type=t.type,this.required=t.required,this.validations=t.validations,this.items=t.items,this._defaultLocale=n,this._fieldLocales=t.locales.reduce((function(n,o){var i,a=new l(e,{id:t.id,type:t.type,required:t.required,validations:t.validations,items:t.items,locale:o,value:t.values[o]});return r(r({},n),((i={})[o]=a,i))}),{}),this.assertHasLocale(n)}return e.prototype.getValue=function(e){return this._getFieldLocale(e).getValue()},e.prototype.setValue=function(e,t){return this._getFieldLocale(t).setValue(e)},e.prototype.removeValue=function(e){return this.setValue(void 0,e)},e.prototype.onValueChanged=function(e,t){var n=t||e;return t||(e=\"\"),this._getFieldLocale(e).onValueChanged(n)},e.prototype.onIsDisabledChanged=function(e,t){var n=t||e;return t||(e=\"\"),this._getFieldLocale(e).onIsDisabledChanged(n)},e.prototype._getFieldLocale=function(e){return e=e||this._defaultLocale,this.assertHasLocale(e),this._fieldLocales[e]},e.prototype.getForLocale=function(e){if(!e)throw new Error(\"getForLocale must be passed a locale\");return this._getFieldLocale(e)},e.prototype.assertHasLocale=function(e){if(!this._fieldLocales[e])throw new Error('Unknown locale \"'+e+'\" for field \"'+this.id+'\"')},e}();function c(e,t){var n,r=e,o=r.document,i=r.MutationObserver,a=function(){u.updateHeight()},s=new i(a),l=!1,u={startAutoResizer:function(){if(u.updateHeight(),l)return;l=!0,s.observe(o.body,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),e.addEventListener(\"resize\",a)},stopAutoResizer:function(){if(!l)return;l=!1,s.disconnect(),e.removeEventListener(\"resize\",a)},updateHeight:function(e){void 0===e&&(e=null);null===e&&(e=Math.ceil(o.documentElement.getBoundingClientRect().height));e!==n&&(t.send(\"setHeight\",e),n=e)}};return u}var d=[\"getTask\",\"getTasks\",\"createTask\",\"updateTask\",\"deleteTask\"];function p(e,t,n,o){var i=t.sys,s=new a(i),l=t.metadata,u=new a(l);e.addHandler(\"sysChanged\",(function(e){i=e,s.dispatch(i)})),e.addHandler(\"metadataChanged\",(function(e){l=e,u.dispatch(l)}));var c={};return d.forEach((function(t){c[t]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.call(\"callEntryMethod\",t,n)}})),r(r(r({getSys:function(){return i},onSysChanged:function(e){return s.attach(e)},fields:n.reduce((function(e,t){return e[t.id]=o(t),e}),{})},l?{metadata:l}:{}),{getMetadata:function(){return l},onMetadataChanged:function(e){return u.attach(e)}}),c)}var f=[\"getContentType\",\"getEntry\",\"getEntrySnapshots\",\"getAsset\",\"getEditorInterface\",\"getPublishedEntries\",\"getPublishedAssets\",\"getContentTypes\",\"getEntries\",\"getEditorInterfaces\",\"getAssets\",\"createContentType\",\"createEntry\",\"createAsset\",\"updateContentType\",\"updateEntry\",\"updateAsset\",\"deleteContentType\",\"deleteEntry\",\"deleteAsset\",\"publishEntry\",\"publishAsset\",\"unpublishEntry\",\"unpublishAsset\",\"archiveEntry\",\"archiveAsset\",\"unarchiveEntry\",\"unarchiveAsset\",\"createUpload\",\"processAsset\",\"waitUntilAssetProcessed\",\"getUsers\",\"getAllScheduledActions\",\"getEntityScheduledActions\",\"signRequest\",\"createTag\",\"readTags\",\"updateTag\",\"deleteTag\",\"getTeams\"];function h(e,t){var n={};return f.forEach((function(t){n[t]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.call(\"callSpaceMethod\",t,n)}})),n.getCachedContentTypes=function(){return function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}([],t)},n}var g=function(e){return\"object\"!=typeof(t=e)||null===t||Array.isArray(t)?{}:e;var t};function v(e,t){return{openAlert:n.bind(null,\"alert\"),openConfirm:n.bind(null,\"confirm\"),openPrompt:n.bind(null,\"prompt\"),openExtension:o,openCurrentApp:i,openCurrent:function(e){return t.app?i(e):o(r(r({},e),{id:t.extension}))},selectSingleEntry:a.bind(null,\"Entry\",!1),selectSingleAsset:a.bind(null,\"Asset\",!1),selectMultipleEntries:a.bind(null,\"Entry\",!0),selectMultipleAssets:a.bind(null,\"Asset\",!0)};function n(t,n){return e.call(\"openDialog\",t,g(n))}function o(n){var o=g(n);if((o=r(r({},o),{id:o.id||t.extension})).id)return e.call(\"openDialog\",\"extension\",o);throw new Error(\"Extension ID not provided.\")}function i(n){if(n=g(n),t.app){var o=r(r({},n),{id:t.app});return e.call(\"openDialog\",\"app\",o)}throw new Error(\"Not in the app context.\")}function a(t,n,r){return(r=g(r)).entityType=t,r.multiple=n,e.call(\"openDialog\",\"entitySelector\",r)}}function y(e,t){var n=new a(void 0),r=new a(void 0);return e.addHandler(\"localeSettingsChanged\",(function(e){n.dispatch(e)})),e.addHandler(\"showDisabledFieldsChanged\",(function(e){r.dispatch(e)})),{editorInterface:t,onLocaleSettingsChanged:function(e){return n.attach(e)},onShowDisabledFieldsChanged:function(e){return r.attach(e)}}}function _(e,t){var n=new o;return e.addHandler(\"navigateSlideIn\",(function(e){n.dispatch(e)})),{openEntry:function(t,n){return e.call(\"navigateToContentEntity\",r(r({},n),{entityType:\"Entry\",id:t}))},openNewEntry:function(t,n){return e.call(\"navigateToContentEntity\",r(r({},n),{entityType:\"Entry\",id:null,contentTypeId:t}))},openBulkEditor:function(t,n){return e.call(\"navigateToBulkEditor\",r({entryId:t},n))},openAsset:function(t,n){return e.call(\"navigateToContentEntity\",r(r({},n),{entityType:\"Asset\",id:t}))},openNewAsset:function(t){return e.call(\"navigateToContentEntity\",r(r({},t),{entityType:\"Asset\",id:null}))},openPageExtension:function(n){return e.call(\"navigateToPage\",r({type:\"extension\",id:t.extension},n))},openCurrentAppPage:function(n){return e.call(\"navigateToPage\",r({type:\"app\",id:t.app},n))},openAppConfig:function(){return e.call(\"navigateToAppConfig\")},openEntriesList:function(){return e.call(\"navigateToSpaceEnvRoute\",{route:\"entries\"})},openAssetsList:function(){return e.call(\"navigateToSpaceEnvRoute\",{route:\"assets\"})},onSlideInNavigation:function(e){return n.attach(e)}}}var E=\"preInstall\",m=\"postInstall\",A=function(e){return\"object\"==typeof e&&null!==e&&!Array.isArray(e)},C=function(e){return\"function\"==typeof e},T=function(e){return console.error(e),Promise.resolve(!1)},w=function(e,t,n){if(!C(e))return Promise.resolve(t);var r;try{r=void 0===n?e():e(n)}catch(e){return T(e)}var o,i=r;return A(o=i)&&C(o.then)||(i=Promise.resolve(i)),i.then((function(e){return e instanceof Error?Promise.reject(e):!1!==e&&(A(e)?e:t)}),T).catch(T)};function I(e){var t,n=((t={}).preInstall=null,t.postInstall=null,t),r=function(e,t){if(!C(t))throw new Error(\"Handler must be a function.\");n[e]=t};return e.addHandler(\"appHook\",(function(t){var r=t.stage,o=t.installationRequestId,i=t.err;return r===E?w(n[r],{}).then((function(t){return e.send(\"appHookResult\",{stage:r,installationRequestId:o,result:t})})):r===m?w(n[r],void 0,i||null).then((function(){return e.send(\"appHookResult\",{stage:r,installationRequestId:o})})):Promise.resolve()})),{setReady:function(){return e.call(\"callAppMethod\",\"setReady\")},isInstalled:function(){return e.call(\"callAppMethod\",\"isInstalled\")},getParameters:function(){return e.call(\"callAppMethod\",\"getParameters\")},getCurrentState:function(){return e.call(\"callAppMethod\",\"getCurrentState\")},onConfigure:function(e){r(E,e)},onConfigurationCompleted:function(e){r(m,e)}}}var b,L={LOCATION_ENTRY_FIELD:\"entry-field\",LOCATION_ENTRY_FIELD_SIDEBAR:\"entry-field-sidebar\",LOCATION_ENTRY_SIDEBAR:\"entry-sidebar\",LOCATION_DIALOG:\"dialog\",LOCATION_ENTRY_EDITOR:\"entry-editor\",LOCATION_PAGE:\"page\",LOCATION_APP_CONFIG:\"app-config\"},O=[D,P,function(e,t){var n=t.field;if(!n)throw new Error('FieldAPI called for location without \"field\" property defined.');return{field:new l(e,n)}},N,H],S=((b={})[L.LOCATION_ENTRY_FIELD]=O,b[L.LOCATION_ENTRY_FIELD_SIDEBAR]=O,b[L.LOCATION_ENTRY_SIDEBAR]=[D,P,N,H],b[L.LOCATION_ENTRY_EDITOR]=[D,P,N],b[L.LOCATION_DIALOG]=[D,function(e){return{close:function(t){return e.send(\"closeDialog\",t)}}},H],b[L.LOCATION_PAGE]=[D],b[L.LOCATION_APP_CONFIG]=[D,function(e){return{app:I(e)}}],b);function D(e,t){var n=t.user,r=t.parameters,o=t.locales,i=t.ids,a=t.initialContentTypes,s=t.location||L.LOCATION_ENTRY_FIELD;return{location:{is:function(e){return s===e}},user:n,parameters:r,locales:{available:o.available,default:o.default,names:o.names,fallbacks:o.fallbacks,optional:o.optional,direction:o.direction},space:h(e,a),dialogs:v(e,i),navigator:_(e,i),notifier:{success:function(t){return e.send(\"notify\",{type:\"success\",message:t})},error:function(t){return e.send(\"notify\",{type:\"error\",message:t})}},ids:i,access:{can:function(t,n,r){return e.call(\"checkAccess\",t,n,r)},canEditAppConfig:function(){return e.call(\"checkAppConfigAccess\")}}}}function H(e,t,n){return{window:c(n,e)}}function N(e,t){return{editor:y(e,t.editorInterface)}}function P(e,t){var n=t.locales,r=t.contentType,o=t.entry,i=t.fieldInfo;return{contentType:r,entry:p(e,o,i,(function(t){return new u(e,t,n.default)}))}}var R,x,k,F,M=(R=window,x=function(e,t,n){return(S[t.location]||O).reduce((function(o,i){return r(r({},o),i(e,t,n))}),{})},(k={promise:null,resolve:null}).promise=new Promise((function(e){k.resolve=e})),(F=k).promise.then((function(e){var t=e[0],n=R.document;n.addEventListener(\"focus\",(function(){return t.send(\"setActive\",!0)}),!0),n.addEventListener(\"blur\",(function(){return t.send(\"setActive\",!1)}),!0)})),function(e,t){!function(e,t){function n(r){var o=r.data;\"connect\"===o.method&&(e.removeEventListener(\"message\",n),t.apply(void 0,o.params))}e.addEventListener(\"message\",n)}(e,(function(n,r){var o=new s(n.id,e);t(o,n,r)}))}(R,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return F.resolve(e)})),function(e,t){var n=void 0===t?{supressIframeWarning:!1}:t,r=n.makeCustomApi;n.supressIframeWarning||R.self!==R.top||console.error(\"Cannot use ui-extension-sdk outside of Contenful:\\n\\nIn order for the ui-extension-sdk to function correctly, your app needs to be run in an iframe in the Contentful Web App.\\n\\nLearn more about local development with the ui-extension-sdk here:\\n  https://www.contentful.com/developers/docs/extensibility/ui-extensions/faq/#how-can-i-use-the-ui-extension-sdk-locally\"),F.promise.then((function(t){var n,o=t[0],i=t[1],a=t[2],s=x(o,i,R);\"function\"==typeof r&&(n=r(o,i)),a.forEach((function(e){o._handleMessage(e)})),e(s,n)}))});e.init=M,e.locations=L,Object.defineProperty(e,\"__esModule\",{value:!0})})),window.contentfulApp=window.contentfulExtension;","function log (str) {\n  if (window) {\n    const ce = new CustomEvent('deepcopylog', {\n      detail: {\n        log: str\n      }\n    })\n    window.dispatchEvent(ce)\n  }\n  if (console) {\n    console.log('DeepCopy: ' + str)\n  }\n}\n\nexport {\n  log\n}","import { log } from './log'\n\nlet references = {}\nlet referenceCount = 0\nlet newReferenceCount = 0\nlet updatedReferenceCount = 0\n\nconst statusUpdateTimeout = 3000\nconst waitTime = 100\n\nasync function wait (ms) {\n  return new Promise(resolve => {\n    setTimeout(resolve, ms)\n  })\n}\n\nasync function updateEntry (space, entry) {\n  await wait(waitTime)\n  return await space.updateEntry(entry)\n}\n\nasync function createEntry (space, type, data) {\n  await wait(waitTime)\n  return await space.createEntry(type, data)\n}\n\nasync function getEntry (space, entryId) {\n  await wait(waitTime)\n  return await space.getEntry(entryId)\n}\n\nasync function inspectField (space, field) {\n  if (field && Array.isArray(field)) {\n    return await Promise.all(field.map(async (f) => {\n      return await inspectField(space, f)\n    }))\n  }\n  \n  if (field && field.sys && field.sys.type === 'Link' && field.sys.linkType === 'Entry') {\n    await findReferences(space, field.sys.id)\n  }\n}\n\nasync function findReferences (space, entryId) {\n  if (references[entryId]) {\n    return\n  }\n\n  const entry = await getEntry(space, entryId)\n\n  const skipList = ['cta'];\n  if (skipList.includes(entry.sys.contentType.sys.id)) {\n    log(` -- Found ${entry.sys.contentType.id} -- SKIPPING!`)\n    return\n  }\n\n  referenceCount++\n\n  references[entryId] = entry\n\n  for (let fieldName in entry.fields) {\n    const field = entry.fields[fieldName]\n\n    for (let lang in field) {\n      const langField = field[lang]\n      \n      await inspectField(space, langField)\n    }\n  }\n}\n\nasync function createNewEntriesFromReferences (space, tag) {\n  const newEntries = {}\n\n  for (let entryId in references) {\n    const entry = references[entryId]\n    if (entry.fields.title && entry.fields.title['en-US']) {\n      entry.fields.title['en-US'] = `${entry.fields.title['en-US']} ${tag}`;\n    }\n    log(JSON.stringify(entry));\n\n    const newEntry = await createEntry(space, entry.sys.contentType.sys.id, { fields: entry.fields })\n    newReferenceCount++\n    newEntries[entryId] = newEntry\n  }\n  \n  return newEntries\n}\n\nasync function updateReferencesOnField(field, newReferences) {\n  if (field && Array.isArray(field)) {\n    return await Promise.all(field.map(async (f) => {\n      return await updateReferencesOnField(f, newReferences)\n    }))\n  }\n\n  if (field && field.sys && field.sys.type === 'Link' && field.sys.linkType === 'Entry') {\n    const oldReference = references[field.sys.id]\n    const newReference = newReferences[field.sys.id]\n    field.sys.id = newReference.sys.id\n  }\n}\n\nasync function updateReferenceTree(space, newReferences) {\n  for (let entryId in newReferences) {\n    const entry = newReferences[entryId]\n\n    for (let fieldName in entry.fields) {\n      const field = entry.fields[fieldName]\n  \n      for (let lang in field) {\n        const langField = field[lang]\n        \n        await updateReferencesOnField(langField, newReferences)\n      }\n    }\n\n    await updateEntry(space, entry)\n    updatedReferenceCount++\n  }\n}\n\nasync function recursiveClone (space, entryId, tag) {\n  references = {}\n  referenceCount = 0\n  newReferenceCount = 0\n  updatedReferenceCount = 0\n  log(`Starting clone...`)\n\n  let statusUpdateTimer = null\n\n  log('')\n  log(`Finding references recursively...`)\n\n  statusUpdateTimer = setInterval(() => {\n    log(` - found ${referenceCount} entries so far...`)\n  }, statusUpdateTimeout)\n\n  await findReferences(space, entryId)\n  clearInterval(statusUpdateTimer)\n  log(` -- Found ${referenceCount} reference(s) in total`)\n\n  log('')\n  log(`Creating new entries...`)\n\n  statusUpdateTimer = setInterval(() => {\n    log(` - created ${newReferenceCount}/${referenceCount} - ${Math.round((newReferenceCount / referenceCount) * 100)}%`)\n  }, statusUpdateTimeout)\n\n  const newReferences = await createNewEntriesFromReferences(space, tag)\n  clearInterval(statusUpdateTimer)\n  log(` -- Created ${newReferenceCount} reference(s)`)\n\n  log('')\n  log(`Updating reference-tree...`)\n  statusUpdateTimer = setInterval(() => {\n    log(` - updated ${updatedReferenceCount}/${referenceCount} - ${Math.round((updatedReferenceCount / referenceCount) * 100)}%`)\n  }, statusUpdateTimeout)\n  await updateReferenceTree(space, newReferences)\n  clearInterval(statusUpdateTimer)\n\n  log('')\n  log(`Updating done.`)\n  return newReferences[entryId]\n}\n\nexport {\n  recursiveClone\n}\n","import { init as initContentfulExtension } from 'contentful-ui-extensions-sdk'\nimport { recursiveClone } from './deep-copy2'\n\nlet space = null\nlet entry = null\nlet extension = null\nlet state = 'idle'\n\nconst activationButton = document.querySelector('button')\nconst logWindow = document.querySelector('.log-window')\n\ninitContentfulExtension(getExtension => {\n  space = getExtension.space\n  entry = getExtension.entry\n  extension = getExtension\n\n  if (extension.window.updateHeight) extension.window.updateHeight()\n})\n\n\nfunction addToLog (str) {\n  logWindow.innerHTML += `<p>${str}</p>`\n  logWindow.scrollTo(0, 999999999)\n}\nwindow.addEventListener('deepcopylog', (event) => {\n  addToLog(event.detail.log)\n})\n\nwindow.doTheDeepCopy = async function() {\n  if (state != 'idle') return\n\n  state = 'cloning'\n\n  activationButton.classList.add('cf-is-loading')\n  activationButton.disabled = true\n  logWindow.style.display = 'block'\n\n  const tag = document.querySelector('.clone-tag').value\n\n  if (extension.window.updateHeight) extension.window.updateHeight()\n\n  const sys = entry.getSys()\n  const clonedEntry = await recursiveClone(space, sys.id, tag)\n  addToLog('')\n  addToLog('<strong>Clone successful!<strong>')\n  addToLog('New entry at:')\n  addToLog(`<a target=\"_top\" href=\"https://app.contentful.com/spaces/${sys.space.sys.id}/entries/${clonedEntry.sys.id}\">https://app.contentful.com/spaces/${sys.space.sys.id}/entries/${sys.id}</a>`)\n\n  activationButton.classList.remove('cf-is-loading')\n}\n\n// document.querySelector('.clone-tag').value = `(${new Date().toUTCString()})`\ndocument.querySelector('.clone-tag').value = `[fr-CA]`\n\nwindow.toggleConfirmModal = function (flag) {\n  document.querySelector('.confirm').style.display = flag ? 'flex' : 'none'\n}\n"],"names":["e","t","log","str","window","ce","CustomEvent","detail","dispatchEvent","console","$89b08ee394d4c762$exports","e1","n1","t1","e2","n2","Object","setPrototypeOf","__proto__","Array","n","prototype","hasOwnProperty","call","r1","assign","r","arguments","length","o","apply","this","o1","e3","_id","_listeners","dispatch","attach","Error","i1","a1","e4","r2","TypeError","String","constructor","create","s1","e5","e6","t2","e7","n3","_messageHandlers","_responseHandlers","_send","parent","i","postMessage","source","id","method","params","DOMException","name","error","addEventListener","_handleMessage","data","e8","n4","Promise","resolve","reject","send","addHandler","result","l1","e9","e10","t3","locale","type","required","validations","items","_value","value","_valueSignal","_isDisabledSignal","_schemaErrorsChangedSignal","_channel","getValue","setValue","removeValue","setInvalid","onValueChanged","onIsDisabledChanged","onSchemaErrorsChanged","u1","e11","n5","locales","_defaultLocale","_fieldLocales","reduce","a","values","assertHasLocale","_getFieldLocale","getForLocale","c1","e12","document","MutationObserver","u","updateHeight","s","l","startAutoResizer","observe","body","attributes","childList","subtree","characterData","stopAutoResizer","disconnect","removeEventListener","Math","ceil","documentElement","getBoundingClientRect","height","d","p","e13","t4","n6","sys","metadata","c","forEach","getSys","onSysChanged","fields","getMetadata","onMetadataChanged","f","g","isArray","v","e15","t6","n8","o2","extension","app","entityType","multiple","openAlert","bind","openConfirm","openPrompt","openExtension","openCurrentApp","openCurrent","selectSingleEntry","selectSingleAsset","selectMultipleEntries","selectMultipleAssets","y","e16","editorInterface","onLocaleSettingsChanged","onShowDisabledFieldsChanged","b","E","m","A","C","T","w","e19","e18","then","catch","L","LOCATION_ENTRY_FIELD","LOCATION_ENTRY_FIELD_SIDEBAR","LOCATION_ENTRY_SIDEBAR","LOCATION_DIALOG","LOCATION_ENTRY_EDITOR","LOCATION_PAGE","LOCATION_APP_CONFIG","O","D","P","field","N","H","S","close","e20","t8","preInstall","postInstall","r3","t9","stage","installationRequestId","err","setReady","isInstalled","getParameters","getCurrentState","onConfigure","onConfigurationCompleted","e21","t10","e17","t7","n9","e14","t5","n7","n10","user","r4","parameters","ids","initialContentTypes","location","is","available","default","names","fallbacks","optional","direction","space","getCachedContentTypes","dialogs","navigator","openEntry","openNewEntry","contentTypeId","openBulkEditor","entryId","openAsset","openNewAsset","openPageExtension","openCurrentAppPage","openAppConfig","openEntriesList","route","openAssetsList","onSlideInNavigation","notifier","success","message","access","can","canEditAppConfig","editor","t11","contentType","entry","fieldInfo","R","x","k","F","e22","M","promise","t12","e23","t13","n11","supressIframeWarning","makeCustomApi","self","top","init","locations","defineProperty","define","amd","globalThis","contentfulExtension","contentfulApp","references","referenceCount","newReferenceCount","updatedReferenceCount","wait","ms","setTimeout","updateEntry","createEntry","inspectField","all","map","async","linkType","findReferences","getEntry","includes","fieldName","lang","langField","updateReferencesOnField","newReferences","newReference","recursiveClone","tag","statusUpdateTimer","setInterval","clearInterval","round","newEntries","title","JSON","stringify","newEntry","createNewEntriesFromReferences","updateReferenceTree","state","activationButton","querySelector","logWindow","addToLog","innerHTML","scrollTo","initContentfulExtension","getExtension","event","doTheDeepCopy","classList","add","disabled","style","display","clonedEntry","remove","toggleConfirmModal","flag"],"version":3,"file":"index.dab342d3.js.map"}